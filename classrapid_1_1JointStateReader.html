<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>rapid: rapid::JointStateReader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">rapid
   </div>
   <div id="projectbrief">A ROS robotics library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classrapid_1_1JointStateReader.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classrapid_1_1JointStateReader-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">rapid::JointStateReader Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Tracks the latest joint states.  
 <a href="classrapid_1_1JointStateReader.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="joint__state__reader_8h_source.html">joint_state_reader.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9feb27cbacde964297c216d0f5be4eeb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrapid_1_1JointStateReader.html#a9feb27cbacde964297c216d0f5be4eeb">JointStateReader</a> ()</td></tr>
<tr class="memdesc:a9feb27cbacde964297c216d0f5be4eeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a9feb27cbacde964297c216d0f5be4eeb">More...</a><br/></td></tr>
<tr class="separator:a9feb27cbacde964297c216d0f5be4eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cd16bc5e9ae7b4b76d8b03131f2de90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrapid_1_1JointStateReader.html#a5cd16bc5e9ae7b4b76d8b03131f2de90">JointStateReader</a> (const std::string &amp;joint_states_topic)</td></tr>
<tr class="memdesc:a5cd16bc5e9ae7b4b76d8b03131f2de90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor with a different joint states topic.  <a href="#a5cd16bc5e9ae7b4b76d8b03131f2de90">More...</a><br/></td></tr>
<tr class="separator:a5cd16bc5e9ae7b4b76d8b03131f2de90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5806652f78c38e8a7340403a61b4c0d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrapid_1_1JointStateReader.html#a5806652f78c38e8a7340403a61b4c0d0">Start</a> ()</td></tr>
<tr class="memdesc:a5806652f78c38e8a7340403a61b4c0d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts subscribing to the joint states.  <a href="#a5806652f78c38e8a7340403a61b4c0d0">More...</a><br/></td></tr>
<tr class="separator:a5806652f78c38e8a7340403a61b4c0d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe14723aa6e8da9d9006b1d77b6c6abc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrapid_1_1JointStateReader.html#abe14723aa6e8da9d9006b1d77b6c6abc">HasJoint</a> (const std::string &amp;name) const </td></tr>
<tr class="memdesc:abe14723aa6e8da9d9006b1d77b6c6abc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this reader has a given joint state.  <a href="#abe14723aa6e8da9d9006b1d77b6c6abc">More...</a><br/></td></tr>
<tr class="separator:abe14723aa6e8da9d9006b1d77b6c6abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38976b4cba9e0d749c2097a47488503c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrapid_1_1JointStateReader.html#a38976b4cba9e0d749c2097a47488503c">position</a> (const std::string &amp;name) const </td></tr>
<tr class="memdesc:a38976b4cba9e0d749c2097a47488503c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the position of the given joint.  <a href="#a38976b4cba9e0d749c2097a47488503c">More...</a><br/></td></tr>
<tr class="separator:a38976b4cba9e0d749c2097a47488503c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab337801b571cde913b47b1b81bb67af8"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrapid_1_1JointStateReader.html#ab337801b571cde913b47b1b81bb67af8">positions</a> () const </td></tr>
<tr class="memdesc:ab337801b571cde913b47b1b81bb67af8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all the joint positions so far.  <a href="#ab337801b571cde913b47b1b81bb67af8">More...</a><br/></td></tr>
<tr class="separator:ab337801b571cde913b47b1b81bb67af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc9e24098b6bef5721db28f6d26394df"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrapid_1_1JointStateReader.html#abc9e24098b6bef5721db28f6d26394df">WaitForMessages</a> (const ros::Duration &amp;timeout) const </td></tr>
<tr class="memdesc:abc9e24098b6bef5721db28f6d26394df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for at least one JointState message.  <a href="#abc9e24098b6bef5721db28f6d26394df">More...</a><br/></td></tr>
<tr class="separator:abc9e24098b6bef5721db28f6d26394df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5abf058bfc1eb4bb9ca2891586843dcf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrapid_1_1JointStateReader.html#a5abf058bfc1eb4bb9ca2891586843dcf">WaitForJoint</a> (const std::string &amp;name, const ros::Duration &amp;timeout) const </td></tr>
<tr class="memdesc:a5abf058bfc1eb4bb9ca2891586843dcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until a joint value is available.  <a href="#a5abf058bfc1eb4bb9ca2891586843dcf">More...</a><br/></td></tr>
<tr class="separator:a5abf058bfc1eb4bb9ca2891586843dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Tracks the latest joint states. </p>
<p>Currently, we only track joint positions/angles, not velocities or efforts.</p>
<p>Usage: </p>
<div class="fragment"><div class="line"><a class="code" href="classrapid_1_1JointStateReader.html#a9feb27cbacde964297c216d0f5be4eeb">JointStateReader</a> js_reader;</div>
<div class="line">js_reader.Start();</div>
<div class="line">js_reader.WaitForMessages(ros::Duration(1.0));</div>
<div class="line"><span class="keywordflow">if</span> (js_reader.HasJoint(<span class="stringliteral">&quot;torso_lift_link&quot;</span>)) {</div>
<div class="line">  <span class="keywordtype">double</span> torso_pos = js_reader.position(<span class="stringliteral">&quot;torso_lift_link&quot;</span>);</div>
<div class="line">}</div>
<div class="line">std::map joint_positions = js_reader.positions();</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="joint__state__reader_8h_source.html#l00026">26</a> of file <a class="el" href="joint__state__reader_8h_source.html">joint_state_reader.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9feb27cbacde964297c216d0f5be4eeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rapid::JointStateReader::JointStateReader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>

</div>
</div>
<a class="anchor" id="a5cd16bc5e9ae7b4b76d8b03131f2de90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rapid::JointStateReader::JointStateReader </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>joint_states_topic</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor with a different joint states topic. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abe14723aa6e8da9d9006b1d77b6c6abc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rapid::JointStateReader::HasJoint </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if this reader has a given joint state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the joint to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the reader has received at least one value from the joint_states topic for the given joint, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a38976b4cba9e0d749c2097a47488503c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double rapid::JointStateReader::position </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the position of the given joint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the joint.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::out_of_range</td><td>if the joint does not exist. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab337801b571cde913b47b1b81bb67af8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, double&gt; rapid::JointStateReader::positions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all the joint positions so far. </p>

</div>
</div>
<a class="anchor" id="a5806652f78c38e8a7340403a61b4c0d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rapid::JointStateReader::Start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts subscribing to the joint states. </p>
<p>The <a class="el" href="classrapid_1_1JointStateReader.html" title="Tracks the latest joint states. ">JointStateReader</a> will not work until you call <a class="el" href="classrapid_1_1JointStateReader.html#a5806652f78c38e8a7340403a61b4c0d0" title="Starts subscribing to the joint states. ">Start()</a>. </p>

</div>
</div>
<a class="anchor" id="a5abf058bfc1eb4bb9ca2891586843dcf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rapid::JointStateReader::WaitForJoint </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ros::Duration &amp;&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until a joint value is available. </p>
<p>Blocks until the given joint value has been recorded at least once or the timeout is reached. Usually, calling WaitForMessages will be sufficient, but sometimes different controllers publish different subsets of the robot joint states, and the first message might not contain the joint you are looking for.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the joint to wait for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>The maximum amount of time to wait.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the joint value was available before the timeout, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="abc9e24098b6bef5721db28f6d26394df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rapid::JointStateReader::WaitForMessages </td>
          <td>(</td>
          <td class="paramtype">const ros::Duration &amp;&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for at least one JointState message. </p>
<p>Blocks until a message is received on the joint_states topic or the timeout is reached. This is useful when you want to read a joint value shortly after calling <a class="el" href="classrapid_1_1JointStateReader.html#a5806652f78c38e8a7340403a61b4c0d0" title="Starts subscribing to the joint states. ">Start()</a>, and ROS has not had time to process callbacks yet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>The maximum amount of time to wait.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if a message was received before the timeout, false otherwise. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>rapid_robot/include/rapid_robot/<a class="el" href="joint__state__reader_8h_source.html">joint_state_reader.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacerapid.html">rapid</a></li><li class="navelem"><a class="el" href="classrapid_1_1JointStateReader.html">JointStateReader</a></li>
    <li class="footer">Generated on Tue Apr 3 2018 03:50:08 for rapid by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
