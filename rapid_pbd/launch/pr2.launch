<launch>
  <arg name="sim" />
  <arg if="$(arg sim)" name="point_cloud_topic" default="/mock_point_cloud" />
  <arg unless="$(arg sim)" name="point_cloud_topic" default="/head_mount_kinect/depth_registered/points" />
  <group ns="rapid_pbd"> 
    <param name="robot" value="pr2" />
    <node pkg="rapid_pbd" type="pr2_action_node" name="pr2_actuator_server" />
    <node pkg="rapid_pbd" type="program_execution_node" name="program_executor">
      <remap from="l_arm_joint_action" to="/l_arm_controller/follow_joint_trajectory" />
      <remap from="r_arm_joint_action" to="/r_arm_controller/follow_joint_trajectory" />
      <remap from="head_action" to="/head_traj_controller/follow_joint_trajectory" />
      <remap from="move_group" to="/move_group" />
    </node>
    <node pkg="rapid_pbd" type="surface_segmentation_node" name="surface_segmentation_node" args="$(arg point_cloud_topic)" />
  </group>
</launch>
